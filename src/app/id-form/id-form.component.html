<div [class.container]="(editable && !urlId)|| employee!.visual || employee!.visual_dcp"
  [class.container-fluid]="!editable && urlId && (employee!.so==true || employee!.dh==true || employee!.us==true || employee!.dh_dcp==true || employee!.dcp==true || employee!.asp==true)"
  [style.padding]="!editable && urlId ? '2%' : null" [style.margin-top]="!editable && urlId ? '-3%' : null">
  <div class="row">
    <div
      [class.col-md-10]="!editable && urlId && (employee!.so==true || employee!.dh==true || employee!.us==true || employee!.dh_dcp==true || employee!.dcp==true || employee!.asp==true)">

      <div class="row">
        <div class="col-md-10">
          <div style="font-size: 200%; color: deeppink">
            RB Card Application
            <ng-container *ngIf="employee!.reg_no || reg_no">
              / {{reg_no || employee!.reg_no}}
            </ng-container>
            <ng-container *ngIf="(employee!.status || status)">
              / {{employee!.status}}{{status}}
            </ng-container>
            
          </div>
        </div>
      </div>

      <div class="card shadow">
        <div class="card-body">
          <div style="text-decoration: underline; text-align: center;"><br>
            <h4><strong>APPLICATION FORM FOR EMPLOYEE INFORMATION SYSTEM</strong></h4>
          </div>

          <div id="div_grid" style="text-align: center;">
            <div style="margin: 5%;" class="row">
              <table width="100%" border="0" cellpadding="3" cellspacing="2"
                style="border-collapse: collapse; border-color: #efdccd; background-color: #ffffff;">


                <tr>
                  <td align="left" height="30" width="220px">Name:</td>
                  <td align="left" style="width: 300px">{{ employee?.emp_title }} {{ employee?.emp_name }}</td>
                  <td valign="middle" align="right" rowspan="6">
                    <img [src]="employee?.profile_photo || '/assets/blank_photo.jpg'" width="120px" height="140px"
                      alt="Applicant Photo" />
                    <br /><br />
                    <input type="file" class="custom-file-input" [id]="'profile_photo'" style="display: none"
                      (change)="onProfilePhotoSelected($event,'profile_photo')" [(ngModel)]="employee!.profile_photo">

                    <label [for]="'profile_photo'" class="upload-icon-label" *ngIf="employee!.dh_dcp"
                      title="Upload photo">

                      <i class="bi bi-cloud-arrow-up btn btn-outline-info enlarge-on-hover"></i>
                    </label>
                  </td>
                </tr>
                <ng-container *ngIf="employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Name to be printed:</td>
                    <td colspan="2" align="left">
                      <div class="row">
                        <div class="col-4">
                          <input type="text" class="form-control" [(ngModel)]="employee!.name_print">
                        </div>
                      </div>
                    </td>
                  </tr>
                </ng-container>
                <ng-container *ngIf="employee!.visual_dcp || employee!.dcp">
                  <tr style="height: 30px">
                    <td align="left">Name to be printed:</td>
                    <td align="left">{{ employee?.name_print }}</td>
                  </tr>
                </ng-container>
                <!--                <tr style="height: 30px">-->
                <!--                  <td align="left">Fatherâ€™s Name:</td>-->
                <!--                  <td align="left">{{ employee?.father_name }}</td>-->
                <!--                </tr>-->
                <tr style="height: 30px">
                  <td align="left">Organization:</td>
                  <td align="left">{{ employee?.organization }}</td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Department and Area of work:</td>
                  <td align="left">{{ employee?.division }}</td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Designation/Nature of Work:</td>
                  <td align="left">{{ employee?.designation }}</td>
                </tr>
                <ng-container *ngIf="employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Designation to be printed:</td>
                    <td colspan="2" align="left">
                      <div class="row">
                        <div class="col-4">
                          <input type="text" class="form-control" [(ngModel)]="employee!.desg_print">
                        </div>
                      </div>
                    </td>
                  </tr>
                </ng-container>
                <ng-container *ngIf="!employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Designation to be printed:</td>
                    <td align="left">{{ employee?.desg_print }}</td>
                  </tr>
                </ng-container>
                <tr style="height: 30px">
                  <td align="left">Mobile Number:</td>
                  <td align="left">{{ employee?.mobile }}</td>
                </tr>
                <tr style="height: 60px">
                  <td align="left">Permanent Address:</td>
                  <td align="left">
                    {{ employee?.perm_add }}<ng-container *ngIf="employee?.perm_district">, </ng-container>
                    {{ employee?.perm_district }}<ng-container *ngIf="employee?.perm_state">, </ng-container>
                    {{ employee?.perm_state }}<ng-container *ngIf="employee?.perm_pin">, </ng-container>
                    {{ employee?.perm_pin }}
                  </td>
                </tr>
                <tr style="height: 60px">
                  <td align="left">Present Address:</td>
                  <td align="left">
                    {{ employee?.curr_add }}<ng-container *ngIf="employee?.curr_district">, </ng-container>
                    {{ employee?.curr_district }}<ng-container *ngIf="employee?.curr_state">, </ng-container>
                    {{ employee?.curr_state }}<ng-container *ngIf="employee?.curr_pin">, </ng-container>
                    {{ employee?.curr_pin }}
                  </td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Pay Level:</td>
                  <td colspan="2" align="left">{{ employee?.payLevel }}</td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Date of Birth:</td>
                  <td colspan="2" align="left">{{ employee?.dob | date:'dd-MM-yyyy' }}</td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Date of Retirement:</td>
                  <td colspan="2" align="left">{{ employee?.dor | date:'dd-MM-yyyy' }}</td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Gender:</td>
                  <td colspan="2" align="left">
                    {{ employee?.gender === 'M' ? 'Male' : employee?.gender === 'F' ? 'Female' : employee?.gender ===
                    'O' ? 'Others' : 'N/A' }}
                  </td>
                </tr>
                <tr style="height: 30px">
                  <td align="left">Blood Group:</td>
                  <td colspan="2" align="left">
                    {{employee?.blood_group}}
                  </td>
                </tr>
                <!-- <tr style="height: 30px">
                  <td align="left">Pass Color:</td>
                  <td colspan="2" align="left">
                    <ng-container *ngIf="employee?.passColor">
                      <span *ngIf="employee?.passColor == '1'" class="green"><i class="bi bi-circle-fill"></i>Green</span>
                      <span *ngIf="employee?.passColor == '2'" class="purple"><i class="bi bi-circle-fill"></i>Purple</span>
                      <span *ngIf="employee?.passColor == '3'" class="red"><i class="bi bi-circle-fill"></i>Red</span>
                    </ng-container>
                  </td>
                </tr> -->

                <ng-container *ngIf="employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Present Card No:</td>
                    <td colspan="2" align="left">
                      <div class="row">
                        <div class="col-4">
                          <input type="text" class="form-control" [(ngModel)]="employee!.id_cards"
                            [ngModel]="employee!.id_cards || 'New'">

                        </div>
                      </div>
                    </td>
                  </tr>
                </ng-container>
                <ng-container *ngIf="!employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Present Card No:</td>
                    <td colspan="2" align="left">
                      <ng-container *ngIf="employee?.id_cards; else newCard">
                        {{ employee?.id_cards}}
                      </ng-container>
                      <ng-template #newCard>
                        <span style="color: blue">New</span>
                      </ng-template>
                    </td>
                  </tr>
                </ng-container>


                <ng-container *ngIf="employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Identification Mark:</td>
                    <td colspan="2" align="left">
                      <div class="row">
                        <div class="col-4">
                          <input type="text" class="form-control" [(ngModel)]="employee!.body_mark">
                        </div>
                      </div>
                    </td>
                  </tr>
                </ng-container>
                <ng-container *ngIf="!employee!.dh_dcp">
                  <tr style="height: 30px">
                    <td align="left">Identification Mark:</td>
                    <td align="left">{{ employee?.body_mark }}</td>
                  </tr>
                </ng-container>







                <tr style="height: 30px">
                  <td align="left">ID proof:</td>
                  <td colspan="2" align="left">
                    <ng-container *ngIf="employee?.id_proof && employee?.id_proof!=null && !employee!.dh_dcp">
                      <a class="btn btn-outline-primary enlarge-on-hover"
                        href="{{apiUrl}}getFile/{{employee?.id_proof}}" title="Order File" target="_blank">
                        <i class="bi bi-eye"></i>
                      </a>
                    </ng-container>

                    <ng-container *ngIf="employee!.dh_dcp ">
                      <input type="file" class="custom-file-input" [id]="'id_proof'" style="display: none"
                        (change)="onFileSelected($event,'id_proof')" [(ngModel)]="employee!.id_proof">
                      <ng-container *ngIf="employee!.id_proof_64">
                        <i class="bi bi-eye btn btn-outline-success enlarge-on-hover"
                          (click)="openPdfInNewTab(employee!.id_proof!);"></i>
                      </ng-container>
                      <ng-container *ngIf="employee?.id_proof && employee?.id_proof!=null && !employee?.id_proof_64">
                        <a class="btn btn-outline-primary enlarge-on-hover"
                          href="{{apiUrl}}getFile/{{employee?.id_proof}}" title="Order File" target="_blank">
                          <i class="bi bi-eye"></i>
                        </a>
                      </ng-container>
                      <label [for]="'id_proof'" class="upload-icon-label" title="idProof">
                        <i class="bi bi-cloud-arrow-up btn btn-outline-info enlarge-on-hover"></i>
                      </label>
                    </ng-container>
                  </td>
                </tr>


                <tr style="height: 30px">
                  <td align="left">Posting Order:</td>
                  <td colspan="2" align="left">
                    <ng-container *ngIf="employee?.postingOrder && employee?.postingOrder!=null && !employee!.dh_dcp">
                      <a class="btn btn-outline-primary enlarge-on-hover"
                        href="{{apiUrl}}getFile/{{employee?.postingOrder}}" title="Order File" target="_blank">
                        <i class="bi bi-eye"></i>
                      </a>
                    </ng-container>

                    <ng-container *ngIf="employee!.dh_dcp">
                      <input type="file" class="custom-file-input" [id]="'postingOrder'" style="display: none"
                        (change)="onFileSelected($event,'postingOrder')" [(ngModel)]="employee!.postingOrder">
                      <ng-container *ngIf="employee!.postingOrder_64">
                        <i class="bi bi-eye btn btn-outline-success enlarge-on-hover"
                          (click)="openPdfInNewTab(employee!.postingOrder!);"></i>
                      </ng-container>
                      <ng-container
                        *ngIf="employee?.postingOrder && employee?.postingOrder!=null && !employee?.postingOrder_64">
                        <a class="btn btn-outline-primary enlarge-on-hover"
                          href="{{apiUrl}}getFile/{{employee?.postingOrder}}" title="Order File" target="_blank">
                          <i class="bi bi-eye"></i>
                        </a>
                      </ng-container>
                      <label [for]="'postingOrder'" class="upload-icon-label" title="posting Order">
                        <i class="bi bi-cloud-arrow-up btn btn-outline-info enlarge-on-hover"></i>
                      </label>
                    </ng-container>
                  </td>
                </tr>



                <tr style="height: 30px" *ngIf="((editable && !urlId) || employee!.dh_dcp)">
                  <td align="left">Employee Type:</td>
                  <td colspan="2" align="left">
                    <div class="row">
                      <div class="col-4">
                        <div class="input-group mb-3">
                          <select class="form-control" [(ngModel)]="employee!.emp_type">
                            <option value="">--Select type--</option>
                            <option value="Permanent">Permanent</option>
                            <option value="Temporary">Temporary</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>

                <tr *ngIf="!employee!.dh_dcp && !editable && urlId">
                  <td align="left">Employee Type:</td>
                  <td colspan="2" align="left">
                    {{employee!.emp_type}}
                  </td>
                </tr>


                <tr style="height: 30px" *ngIf="((editable && !urlId) || employee!.dh_dcp)">
                  <td align="left">Applying reason:</td>
                  <td colspan="2" align="left">
                    <div class="row">
                      <div class="col-4">
                        <div class="input-group mb-3">
                          <select class="form-control" [(ngModel)]="employee!.apply_reason"
                            (change)="onApplyReasonChange()">
                            <option value="">--Select reason--</option>
                            <option value="Designation Changed">Designation Changed</option>
                            <option value="Lost/theaft">Lost/theft</option>
                            <option value="Renewal">Renewal</option>
                            <option value="New">New</option>
                            <option value="Transferred to Family wing">Transferred to Family wing</option>
                            <option value="Transferred From Family wing">Transferred From Family wing</option>
                            <option value="Photo change(civil or dress)">Photo change(civil or dress)</option>
                            <option value="Damage">Damage</option>
                            <option value="Other">Other</option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>


                <tr *ngIf="!employee!.dh_dcp&& !editable && urlId">
                  <td align="left">Applying reason:</td>
                  <td colspan="2" align="left">
                    {{employee!.apply_reason}}
                  </td>
                </tr>



                <tr style="height: 30px"
                  *ngIf="((editable && !urlId) || employee!.dh_dcp) && employee!.apply_reason == 'Lost/theaft'">
                  <td align="left">Fir No/Fine recipt No:</td>
                  <td colspan="2" align="left">
                    <div class="row">
                      <div class="col-4">
                        <input type="text" class="form-control" [(ngModel)]="employee!.FIR_no" placeholder="FIR no">
                      </div>
                    </div>
                  </td>
                </tr>
                <tr style="height: 30px"
                  *ngIf="!editable && urlId && !employee!.dh_dcp && employee!.apply_reason == 'Lost/theaft'">
                  <td align="left">Fir No/Fine recipt No:</td>
                  <td colspan="2" align="left">
                    {{employee!.FIR_no}}
                  </td>
                </tr>

                <tr style="height: 30px" *ngIf="editable && !urlId">
                  <td align="left">Approval Authority:</td>
                  <td colspan="2" align="left">
                    <div class="row">
                      <div class="col-4">
                        <select class="form-control" [(ngModel)]="employee!.Recruitment">
                          <option value="">--Select type--</option>
                          <option [ngValue]="58">Administration</option>
                          <option [ngValue]="59">Establishment</option>
                          <option [ngValue]="115">ACP</option>
                          <option [ngValue]="64">NIC</option>
                          <option [ngValue]="101">PEED</option>
                          <option [ngValue]="100">PED</option>
                          <option [ngValue]="92">House Hold</option>
                          <!-- <option [ngValue]="118">PBG</option> -->
                          <!-- <option [ngValue]="118">Ceremonial</option> -->
                          <option [ngValue]="47">Eba</option>
                          <option [ngValue]="116">Garrage</option>
                          <option [ngValue]="89">Sanitary</option>
                          <option [ngValue]="141">Asiana</option>
                        </select>
                      </div>
                    </div>
                  </td>
                </tr>

                <!--                <tr style="height: 50px">-->
                <!--                  <td colspan="3" align="left">-->
                <!--                    <span>Note :- (1) Furnishing wrong information is an offence:</span>-->
                <!--                  </td>-->
                <!--                </tr>-->

                <br>
                <br>
                <br>
                <tr>
                  <td align="left" colspan="2">
                    <!--                    <img [src]="employee?.sign_path || '/assets/sig_ldr.gif'" width="150px" height="30px" alt="Upload Signature" />-->
                  </td>
                  <td align="right">
                    <img [src]="employee?.sign_path || '/assets/sig_ldr.gif'" width="150px" height="30px"
                      alt="Upload Signature" />

                    <input type="file" class="custom-file-input" [id]="'sign_path'" style="display: none"
                      (change)="onProfilePhotoSelected($event,'sign_path')" [(ngModel)]="employee!.sign_path">

                    <label [for]="'sign_path'" class="upload-icon-label" *ngIf="employee!.dh_dcp" title="Upload sign">

                      <i class="bi bi-cloud-arrow-up btn btn-outline-info enlarge-on-hover"></i>
                    </label>

                  </td>
                </tr>
                <tr style="height: 30px">
                  <td align="left" colspan="2">
                    <!--                    <span style="font-weight: 700; font-size: 15px">SIGNATURE OF Controlling Authority</span><br>-->
                  </td>
                  <td align="right" colspan="3">
                    <span style="font-weight: 700; font-size: 15px">SIGNATURE OF APPLICANT</span><br>
                    <span style="font-size: 15px">Dt-{{ employee?.applied_date ? (employee?.applied_date |
                      date:'dd-MM-yyyy') : today | date:'dd-MM-yyyy' }}</span>
                  </td>
                </tr>

                <!--                <tr style="height: 40px">-->
                <!--                  <td colspan="3" align="left">-->
                <!--                    <span *ngIf="editable && !urlId">Recommended vide No {{vide_no}} Dated {{vide_date}}.</span>-->
                <!--                    <span *ngIf="!editable && urlId">-->
                <!--                      <div class="row">-->
                <!--                        Recommended vide No-->
                <!--                          <input type="text" class="form-control match-placeholder" placeholder="vide_no" aria-label="vide_no"[(ngModel)]="vide_no">-->
                <!--                        Dated-->
                <!--                          <input type="date" class="form-control match-placeholder" id="vide_date" aria-label="Vide_date" [(ngModel)]="vide_date">-->
                <!--                        .-->
                <!--                      </div>-->
                <!--                    </span>-->
                <!--                  </td>-->
                <!--                </tr>-->

                <!--                <tr style="height: 70px">-->
                <!--                  <td colspan="3" align="left">-->
                <!--                    <span>-->
                <!--                      Certified that to the best of my knowledge and belief the particulars furnished by him/her are correct and the-->
                <!--                      undersigned is aware of the instruction issued by Presidentâ€™s Secretariat vide letter No._________________________ dt. _________________________ for issue of pass to worker/labour will be compiled with.-->
                <!--                    </span>-->
                <!--                  </td>-->
                <!--                </tr>-->
                <!--                <tr style="height: 50px; vertical-align: bottom">-->
                <!--                  <td align="right" colspan="3">-->
                <!--                    <table style="text-align:center">-->
                <!--                      <tr>-->
                <!--                        <td></td>-->
                <!--                        <td>-->
                <!--                          <img [src]="entryPass.gazettedOfficerSignature || ''" width="180px" height="40px" alt="Signature of Gazetted Officer" />-->
                <!--                          <br />-->
                <!--                          <span style="font-weight: 700; font-size: 15px">Signature of Gazetted Officer</span><br />-->
                <!--                          <span style="font-weight: 700; font-size: 15px">{{ entryPass.gazettedOfficerName }}</span><br />-->
                <!--                          <span style="font-weight: 700; font-size: 15px">{{ entryPass.gazettedOfficerDesignation }}</span>-->
                <!--                          <br />-->
                <!--                        </td>-->
                <!--                      </tr>-->
                <!--                    </table>-->
                <!--                  </td>-->
                <!--                </tr>-->
                <!--                <tr style="height: 40px; vertical-align: bottom">-->
                <!--                  <td align="left" colspan="3">-->
                <!--                    <span style="font-weight: 700; font-size: 15px; text-decoration: underline;">Recommending Authority.</span>-->
                <!--                  </td>-->
                <!--                </tr>-->
                <!--                <tr style="height: 40px; vertical-align: bottom">-->
                <!--                  <td align="left" colspan="3">-->
                <!--                    <span style="font-weight: 700; font-size: 15px">CPH, EE/PED, EE/PEED, OSD/Horticulture, Under Secys. & SOs.</span>-->
                <!--                  </td>-->
                <!--                </tr>-->
                <!--                <tr style="height: 80px;">-->
                <!--                  <td align="left" colspan="3">-->
                <!--                    <span style="font-size: 16px">Granted Permission for Temporary Entry Vide No._________________________ w.e.f. _________________________ through _________________________.</span>-->
                <!--                  </td>-->
                <!--                </tr>-->
                <!--                <tr style="height: 80px; vertical-align: bottom">-->
                <!--                  <td align="right" colspan="3">-->
                <!--                    <span style="font-size: 16px; font-weight: 700;">DCP/RB</span>-->
                <!--                  </td>-->
                <!--                </tr>-->


                <ng-container *ngIf="employee!.dh_dcp || employee!.dcp || employee!.visual_dcp || employee!.approve">
                  <td style="text-decoration: underline; text-align: center;" colspan="4">
                    <br><br>
                    <h4><strong>For Office Use</strong></h4>
                  </td>

                  <ng-container *ngIf="employee!.dh_dcp">
                    <tr>
                      <td align="left">Police Verification No:</td>
                      <td colspan="2" align="left">
                        <div class="row">
                          <div class="col-4">
                            <input type="text" class="form-control" [(ngModel)]="employee!.police_verification_no">
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left">Pass Colour Issued:</td>
                      <td colspan="2" align="left">
                        <div class="row">
                          <div class="col-4">
                            <div class="input-group mb-3">
                              <select class="form-control" [(ngModel)]="employee!.passColor_issued">
                                <option value="null">--Select Pass Color--</option>
                                <option *ngFor="let passColor_issued of passColors" [ngValue]="passColor_issued.id">
                                  {{ passColor_issued.color }}
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td align="left">Valid Upto:</td>
                      <td colspan="2" align="left">
                        <div class="row">
                          <div class="col-4">
                            <input type="date" class="form-control" [(ngModel)]="employee!.validupto" [min]="minDate"
                              [max]="maxDate">
                          </div>
                        </div>
                      </td>
                    </tr>
                  </ng-container>

                  <ng-container *ngIf="!employee!.dh_dcp">
                    <tr>
                      <td align="left">Police Verification No:</td>
                      <td colspan="2" align="left">
                        {{employee?.police_verification_no }}
                      </td>
                    </tr>
                    <tr *ngIf="employee?.passColor_issued">
                      <td align="left">Pass Colour Issued:</td>
                      <td colspan="2" align="left">
                        <span *ngIf="employee?.passColor_issued == '1'" class="green">
                          <i class="bi bi-circle-fill"></i> Green
                        </span>
                        <span *ngIf="employee?.passColor_issued == '2'" class="purple">
                          <i class="bi bi-circle-fill"></i> Purple
                        </span>
                        <span *ngIf="employee?.passColor_issued == '3'" class="red">
                          <i class="bi bi-circle-fill"></i> Red
                        </span>
                        <span *ngIf="employee?.passColor_issued == '4'" class="yellow">
                          <i class="bi bi-circle-fill"></i> yellow
                        </span>
                      </td>
                    </tr>
                    <tr>
                      <td align="left">Valid Upto:</td>
                      <td colspan="2" align="left">
                        {{employee?.validupto | date:'dd-MM-yyyy'}}
                      </td>
                    </tr>
                  </ng-container>
                </ng-container>

              </table>
              <div class="navigation-buttons"
                *ngIf="editable && !urlId && !returnapp && employee!.apply_reason && employee!.emp_type && (employee!.apply_reason !== 'Lost/theaft' || (employee!.apply_reason === 'Lost/theaft' && employee!.FIR_no))">
                <button type="submit" class="btn btn-primary"
                  (click)="confirmSubmit(employee!.apply_reason!, employee!.FIR_no, employee!.emp_type!,employee!.Recruitment!)">Submit</button>
              </div>
              <!-- <div class="navigation-buttons"
                *ngIf="editable && !urlId && returnapp && employee!.apply_reason && employee!.emp_type && (employee!.apply_reason !== 'Lost/theaft' || (employee!.apply_reason === 'Lost/theaft' && employee!.FIR_no))">
                <button type="submit" class="btn btn-primary"
                  (click)="confirmSubmit(employee!.apply_reason!, employee!.FIR_no, employee!.emp_type!)">update</button>
              </div> -->
            </div>
          </div>

        </div>
      </div>

      <br>
      <ng-container
        *ngIf="  employee && employee.newApplicationStatus != null && employee.newApplicationStatus.length > 0">
        <ng-container *ngFor="let application of employee!.newApplicationStatus; let j = index">
          <ng-container *ngIf="urlId && !editable && !returnapp">



            <div class="card shadow" *ngIf="application.role_id!==16" style="background-color: #bde3f3; ">
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6" style="text-align: left;font-style: italic">
                    <strong>Note #{{ j + 1 }}
                      <!-- <ng-container *ngIf="j === 0">
                        Forwarded
                      </ng-container> -->
                      <!-- Display Forwarded or Returned based on role flow order -->
                      <span
                        *ngIf="getTransitionType(application.role_id, employee!.newApplicationStatus[j-1]?.role_id) === 'Forwarded'">Forwarded</span>
                      <span
                        *ngIf="getTransitionType(application.role_id, employee!.newApplicationStatus[j-1]?.role_id) === 'Returned'">Returned</span>
                      <span
                        *ngIf="getTransitionType(application.role_id, employee!.newApplicationStatus[j-1]?.role_id) === 'No Transition'">No
                        Transition</span>
                    </strong>
                  </div>
                </div>
                <div class="row">
                  <div class="col" style="min-height: 1cm">
                    {{application.remarks}}<br><br>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6" style="text-align: left">
                    &nbsp;<br>
                    <b>{{ application.created_at | date:'HH:mm:ss dd-MM-yyyy ' }}</b>
                  </div>
                  <div class="col-md-6" style="text-align: right">
                    <strong>{{application.created_by}}</strong><br>{{application.desg_desc}}
                  </div>
                </div>
              </div>
            </div>


            <div class="card shadow" *ngIf="application.role_id==16" style="background-color: green; ">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-6" style="text-align: left;font-style: italic">
                    <strong>Note #{{ j + 1 }}
                      <!-- <ng-container *ngIf="j === 0">
                        Forwarded
                      </ng-container> -->
                      <!-- Display Forwarded or Returned based on role flow order -->
                      <span
                        *ngIf="getTransitionType(application.role_id, employee!.newApplicationStatus[j-1]?.role_id) === 'Forwarded'">Forwarded</span>
                      <span
                        *ngIf="getTransitionType(application.role_id, employee!.newApplicationStatus[j-1]?.role_id) === 'Returned'">Returned</span>
                      <span
                        *ngIf="getTransitionType(application.role_id, employee!.newApplicationStatus[j-1]?.role_id) === 'No Transition'">No
                        Transition</span>
                    </strong>
                  </div>

                </div>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    {{application.remarks}}<br><br>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <div class="row">
                  <div class="col-md-6" style="text-align: left">
                    &nbsp;<br>
                    <b> {{application.created_at | date:'dd-MM-yyyy'}}</b>
                  </div>
                  <div class="col-md-6" style="text-align: right">
                    <strong>{{application.created_by}}</strong><br>{{application.desg_desc}}
                  </div>
                </div>
              </div>
            </div>
            <br>
          </ng-container>




          <ng-container *ngIf="application.role_id==16 && !urlId && editable && returnapp">
            <div class="card shadow" style="background-color: green; ">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-6" style="text-align: left;font-style: italic">
                    <strong>Note</strong>
                  </div>

                </div>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    {{application.remarks}}<br><br>
                  </div>
                </div>
              </div>
              <div class="card-footer">
                <div class="row">
                  <div class="col-md-6" style="text-align: left">
                    &nbsp;<br>
                    <b> {{application.created_at | date:'dd-MM-yyyy'}}</b>
                  </div>
                  <div class="col-md-6" style="text-align: right">
                    <strong>{{application.created_by}}</strong><br>{{application.desg_desc}}
                  </div>
                </div>
              </div>
            </div>
            <br>
          </ng-container>
        </ng-container>
      </ng-container>
    </div>

    <ng-container *ngIf="urlId">
      <ng-container
        *ngIf="employee!.so==true || employee!.dh==true || employee!.us==true || employee!.dh_dcp==true || employee!.dcp==true || employee!.asp==true">
        <div class="col-md-2" *ngIf="urlId && !editable">
          <br><br>
          <div class="card shadow">
            <div class="card-body">
              <div class="spacing" style="margin-top: 3%;"></div>
              <strong><label style="font-size: 130%" for="remarks">Note:</label></strong>
              <div class="spacing" style="margin-top: 2%;"></div>
              <div class="row" style="margin-left: 0%; margin-right: 1.5%;">
                <textarea class="form-control" id="remarks" name="remarks" style="height: 200px;" placeholder="abc...."
                  [(ngModel)]="remark"></textarea>
              </div>
              <ng-container *ngIf="employee!.dh_dcp==true">
                <div class="row">
                  <div class="d-flex justify-content-center" style="text-align: center">
                    <button type="button" class="btn btn-outline-secondary enlarge-on-hover" name="preview"
                      value="preview" (click)="preview()">Preview</button>
                  </div>


                  <div class="modal modal-above-header" tabindex="-1" data-bs-backdrop="false"
                    [ngStyle]="{'display': displayCard  }"
                    style="backdrop-filter: blur(3px);background-color: rgba(128, 128, 128, 0.7); overflow-y: auto;">


                    <div class="modal-dialog modal-dialog-centered modal-l">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">
                            <b>RB-Card Preview</b>
                          </h5>
                        </div>

                        <div class="modal-body">
                          <div class="row" style="overflow-x: auto;overflow-y: hidden; white-space: nowrap;">
                            <ng-container>
                              <!-- <div class="d-flex flex-column align-items-center"
                                style="width:100%; text-align: center; padding-top: 10px;">

                              </div> -->


                              <div class="page-break">

                                <!--      <td>-->
                                <table>
                                  <!-- <div *ngIf="shouldRenderPassType()" class="print-border" [ngStyle]="{
                                 'background-image': 'url(' + getPassTypeImage() + ')',
                                 'width': '80.5mm',
                                 'height': '128mm',
                                 'max-width': '81mm',
                                 'max-height': '128mm',
                                 'background-size': '100%',
                                 'background-position': 'center',
                                 'background-repeat': 'no-repeat',
                                 'position': 'relative'
                               }"> -->

                                  <div *ngIf="employee?.passColor_issued == '1'" class="print-border" [ngStyle]="{
                                'background-image': 'url(\'assets/images/pass_frontG.png\')',
                                'width': '82mm',
                                'height': '128.325mm',
                                'background-size': '97%',
                                'background-repeat': 'no-repeat',
                                'position': 'relative',
                                'max-width': '82mm',
                                'max-height': '130mm',
                                'background-position': 'center',
                              }">

                                    <b
                                      style="color: white; display: inline-block; margin-top: 2.5cm; text-align: center;width: 100%;">
                                      VALID UPTO {{employee?.validupto| date:'dd-MMM-yyyy' | uppercase}}
                                    </b>

                                    <table style="width: 100%; border-collapse: collapse;">
                                      <tr>
                                        <ng-container *ngIf="employee?.payLevel_id >= 9 && employee?.payLevel_id <= 13">
                                          <td>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 3mm;  padding-right: 7mm;" />
                                          </div>
                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 14 && employee?.payLevel_id <= 17">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 3mm;  padding-right: 7mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 18 && employee?.payLevel_id <= 22">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 3mm;  padding-right: 7mm;" />
                                          </div>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 2.3mm;  padding-right: 7mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>

                                        <ng-container *ngIf="!employee?.payLevel_id || employee?.payLevel_id < 9">

                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 67.9mm; height: 59.5mm; padding: 3mm; padding-left: 19mm; padding-right: 2.7mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                      </tr>
                                    </table>

                                    <div style="text-align: center; width: 100%; padding-top: 2mm;  ">
                                      <b style="color: white;">
                                        {{ employee?.name_print || employee?.emp_name}}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;  ">
                                      <b style="color: white;">
                                        {{ employee?.desg_print || employee?.designation }}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;">
                                      <b style="color: white;">
                                        {{employee?.organization}}
                                      </b>
                                    </div>


                                    <tr>
                                      <td style="text-align: center; padding-left: 2mm;">
                                        <ng-container *ngIf="employee?.sign_path">
                                          <img [src]="employee?.sign_path" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Employee Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: center;">
                                          Signature of pass holder
                                        </div>
                                      </td>
                                      <td style="text-align: center;">
                                        <ng-container *ngIf="employee?.ussign">
                                          <img [src]="employee?.ussign" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Dcp Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: right; padding-left: 1.5mm;">
                                          DCP RP Bhavan(Security)
                                        </div>
                                      </td>
                                    </tr>

                                  </div>

                                  <div *ngIf="employee?.passColor_issued=='2'" class="print-border" [ngStyle]="{
                                    'background-image': 'url(\'assets/images/pass_frontPc.png\')',
                                    'width': '82mm',
                                'height': '128.325mm',
                                'background-size': '96.7%',
                                'background-repeat': 'no-repeat',
                                'position': 'relative',
                                'max-width': '82mm',
                                'max-height': '130mm',
                                'background-position': 'center',
                                  }">

                                    <b
                                      style="color: white; display: inline-block; margin-top: 2.5cm; text-align: center;width: 100%;">
                                      VALID UPTO {{employee?.validupto| date:'dd-MMM-yyyy' | uppercase}}
                                    </b>

                                    <table style="width: 100%; border-collapse: collapse;">
                                      <tr>
                                        <ng-container *ngIf="employee?.payLevel_id >= 9 && employee?.payLevel_id <= 13">
                                          <td>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 66.5mm; height: 59.1mm;padding-left: 1mm;  padding-right: 13.9mm;padding-top: 4mm;padding-bottom: 4mm; " />
                                          </div>


                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 14 && employee?.payLevel_id <= 17">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 66.5mm; height: 59.1mm;padding-left: 1mm;  padding-right: 13.9mm;padding-top: 4mm;padding-bottom: 4mm; " />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 18 && employee?.payLevel_id <= 22">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 66.5mm; height: 59.1mm;padding-left: 1mm;  padding-right: 13.9mm;padding-top: 4mm;padding-bottom: 4mm; " />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>

                                        <ng-container *ngIf="!employee?.payLevel_id || employee?.payLevel_id < 9">

                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 67.3mm; height: 58.6mm;  padding-right: 1.5mm;padding-top: 5mm;padding-bottom: 4mm;padding-left: 16mm; " />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                      </tr>
                                    </table>



                                    <div style="text-align: center; width: 100%; margin-top: -2mm;  ">
                                      <b style="color: white;">
                                        {{employee?.name_print || employee?.emp_name}}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;  ">
                                      <b style="color: white;">
                                        {{ employee?.desg_print || employee?.designation }}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;">
                                      <b style="color: white;">
                                        {{employee?.organization}}
                                      </b>
                                    </div>


                                    <tr>
                                      <td style="text-align: center;padding-left: 2mm;">
                                        <ng-container *ngIf="employee?.sign_path">
                                          <img [src]="employee?.sign_path" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Employee Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: center;">
                                          Signature of pass holder
                                        </div>
                                      </td>
                                      <td style="text-align: center;">
                                        <ng-container *ngIf="employee?.ussign">
                                          <img [src]="employee?.ussign" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Dcp Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: right; padding-left: 1.5mm;">
                                          DCP RP Bhavan(Security)
                                        </div>
                                      </td>
                                    </tr>

                                  </div>

                                  <div *ngIf="employee?.passColor_issued=='3'" class="print-border" [ngStyle]="{
                                        'background-image': 'url(\'assets/images/pass_frontR.png\')',
                                        'width': '82mm',
                                'height': '128.325mm',
                                'background-size': '97%',
                                'background-repeat': 'no-repeat',
                                'position': 'relative',
                                'max-width': '82mm',
                                'max-height': '130mm',
                                'background-position': 'center',

                                      }">


                                    <b
                                      style="color: white; display: inline-block; margin-top: 2.5cm; text-align: center;width: 100%;">
                                      VALID UPTO {{employee?.validupto| date:'dd-MMM-yyyy' | uppercase}}
                                    </b>

                                    <table style="width: 100%; border-collapse: collapse;">
                                      <tr>
                                        <ng-container *ngIf="employee?.payLevel_id >= 9 && employee?.payLevel_id <= 13">
                                          <td>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 3mm;  padding-right: 7mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 14 && employee?.payLevel_id <= 17">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 3mm;  padding-right: 7mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 18 && employee?.payLevel_id <= 22">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 55.5mm; height: 59mm; padding: 3mm;  padding-right: 7mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>

                                        <ng-container *ngIf="!employee?.payLevel_id || employee?.payLevel_id < 9">

                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 67.9mm; height: 59.5mm; padding: 3mm; padding-left: 19mm; padding-right: 2.7mm;" />
                                          </div>


                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 67.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                      </tr>
                                    </table>

                                    <div style="text-align: center; width: 100%; padding-top: 2mm;  ">
                                      <b style="color: white;">
                                        {{employee?.name_print || employee?.emp_name}}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;  ">
                                      <b style="color: white;">
                                        {{ employee?.desg_print || employee?.designation }}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;">
                                      <b style="color: white;">
                                        {{employee?.organization}}
                                      </b>
                                    </div>


                                    <tr>
                                      <td style="text-align: center;padding-left: 2mm;">
                                        <ng-container *ngIf="employee?.sign_path">
                                          <img [src]="employee?.sign_path" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Employee Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: center;">
                                          Signature of pass holder
                                        </div>
                                      </td>
                                      <td style="text-align: center;">
                                        <ng-container *ngIf="employee?.ussign">
                                          <img [src]="employee?.ussign" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Dcp Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: right; padding-left: 1.5mm;">
                                          DCP RP Bhavan(Security)
                                        </div>
                                      </td>
                                    </tr>

                                  </div>

                                  <div *ngIf="employee?.passColor_issued=='4'" class="print-border" [ngStyle]="{
                                            'background-image': 'url(\'assets/images/pass_frontY.png\')',
                                            'width': '82mm',
                                            'height': '128.325mm',
                                            'background-size': '97%',
                                            'background-repeat': 'no-repeat',
                                            'position': 'relative',
                                            'max-width': '82mm',
                                            'max-height': '130mm',
                                            'background-position': 'center',
                                          }">

                                    <b
                                      style="color: white; display: inline-block; margin-top: 2.5cm; text-align: center;width: 100%;">
                                      VALID UPTO {{employee?.validupto| date:'dd-MMM-yyyy' | uppercase}}
                                    </b>

                                    <table style="width: 100%; border-collapse: collapse;">
                                      <tr>
                                        <ng-container *ngIf="employee?.payLevel_id >= 9 && employee?.payLevel_id <= 13">
                                          <td>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 54.5mm; height: 58mm; padding: 2mm;  padding-right: 7.3mm;padding-top: 4mm;padding-bottom: 2.5mm;padding-left: 3.5mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 66.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 14 && employee?.payLevel_id <= 17">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 54.5mm; height: 58mm; padding: 2mm;  padding-right: 7.3mm;padding-top: 4mm;padding-bottom: 2.5mm;padding-left: 3.5mm;" />
                                          </div>


                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 66.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                        <ng-container
                                          *ngIf="employee?.payLevel_id >= 18 && employee?.payLevel_id <= 22">
                                          <td>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" /><br>
                                            <img src="assets/images/star.png" />
                                          </td>
                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width: 54.5mm; height: 58mm; padding: 2mm;  padding-right: 7.3mm;padding-top: 4mm;padding-bottom: 2.5mm;padding-left: 3.5mm;" />
                                          </div>

                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 66.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>

                                        <ng-container *ngIf="!employee?.payLevel_id || employee?.payLevel_id < 9">
                                          <div
                                            style="color: white;position: absolute; top: 0; left: -32mm; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: -50mm;">
                                              <b>CASUAL EMPLOYEE</b><br>
                                              <b>TEMPORARY PASS</b>
                                            </div>
                                          </div>

                                          <div>
                                            <img [src]="employee?.profile_photo"
                                              style="width:66.7mm; height: 58mm; padding: 2mm;  padding-top: 4mm;padding-bottom: 3mm;padding-left: 20mm; padding-right: 3mm;" />
                                          </div>
                                          <div
                                            style="color: white;position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;font-size: 5mm;">
                                            <div
                                              style="transform: rotate(-90deg); width: 100%; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;padding-left: 6mm; padding-top: 66.2mm;">
                                              <b> RB-{{employee?.org_short}}-
                                                <ng-container [ngSwitch]="employee?.passColor_issued">
                                                  <ng-container *ngSwitchCase="1">G</ng-container>
                                                  <ng-container *ngSwitchCase="2">P</ng-container>
                                                  <ng-container *ngSwitchCase="3">R</ng-container>
                                                  <ng-container *ngSwitchCase="4">Y</ng-container>
                                                </ng-container>
                                                -{{employee?.emp_name?.charAt(0)}}-XXXX</b>
                                            </div>
                                          </div>
                                        </ng-container>
                                      </tr>
                                    </table>

                                    <div style="text-align: center; width: 100%; padding-top: 2mm;  ">
                                      <b style="color: white;">
                                        {{employee?.name_print || employee?.emp_name}}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;  ">
                                      <b style="color: white;">
                                        {{ employee?.desg_print || employee?.designation }}
                                      </b>
                                    </div>
                                    <div style="text-align: center; width: 100%;">
                                      <b style="color: white;">
                                        {{employee?.organization}}
                                      </b>
                                    </div>


                                    <tr>
                                      <td style="text-align: center;padding-left: 2mm;">
                                        <ng-container *ngIf="employee?.sign_path">
                                          <img [src]="employee?.sign_path" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Employee Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: center;">
                                          Signature of pass holder
                                        </div>
                                      </td>
                                      <td style="text-align: center;">
                                        <ng-container *ngIf="employee?.ussign">
                                          <img [src]="employee?.ussign" alt="Signature"
                                            style="width: 20mm; height: 8mm;" class="rounded-square"
                                            title="Dcp Signature" />
                                        </ng-container>
                                        <div style="font-size: 3.3mm; text-align: right; padding-left: 1.5mm;">
                                          DCP RP Bhavan(Security)
                                        </div>
                                      </td>
                                    </tr>

                                  </div>
                                </table>
                              </div>



                              <div class="page-break">
                                <table>
                                  <div
                                    style="width: 82 mm; height: 128.3mm;  display: flex;flex-direction: column;border: 1px solid #ccc; font-size: 2.5mm;padding: 1mm;max-width: 82mm;max-height: 128.3mm">
                                    <img src="assets/images/RB_Sketch_Forecourt.jpg" alt="Photo"
                                      style="width: 81.7mm;height:25mm;margin-left:-1mm;position: relative">
                                    <table style="margin: 3mm;">

                                      <b style="font-size: 4mm">Blood Group: {{
                                        employee?.blood_group}}</b><br>
                                      <b style="font-size: 4mm">Date of Birth: {{
                                        employee?.dob |
                                        date:'dd-MM-yyyy'}}</b><br>
                                      <b style="font-size: 4mm">ID mark: {{
                                        employee?.body_mark}}</b>
                                      <br>
                                      <span
                                        style="font-size: 3.5mm; word-wrap: break-word; white-space: normal; display: inline-block; width: 75mm;">
                                        This Photo Pass is the property of the President's Secretariat. It must be
                                        returned by the holder on its
                                        expiry or when he/she ceases to be with the President's Secretariat or when
                                        demanded by the issuing
                                        authority.
                                      </span>
                                      <br>
                                      <b
                                        style="font-size: 4mm; font-style: italic;word-wrap: break-word; white-space: normal; display: inline-block; width: 75mm;">
                                        If found, please post it in unstamped envelope to:
                                      </b><br>
                                      <b style="font-size: 4mm; ">
                                        Dy. Commisioner of police
                                      </b>
                                      <br>
                                      <span style="font-size: 3.5mm">
                                        Rashtrapati Bhavan (Security),
                                      </span>
                                      <br>
                                      <span style="font-size: 3.5mm">
                                        New Delhi - 110004
                                      </span>
                                      <br>
                                      <span style="font-size: 3.5mm">
                                        Tel : 23010067,23017250
                                      </span>
                                      <br>
                                      <!-- <span style="width: 81.7mm;max-width: 81.7mm;text-align: center;">
                                        ||||||||||||||
                                      </span> -->
                                    </table>
                                  </div>
                                </table>
                              </div>







                            </ng-container>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-secondary enlarge-on-hover"
                            (click)="closepreview()">
                            Close
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>










              </ng-container>
              <div class="row">
                <div class="col-6" style="text-align: right">
                  <button type="submit" class="btn btn-primary enlarge-on-hover" name="submit" value="Approve"
                    (click)="confirmApprove()">Forward</button>
                </div>
                <div class="col-6" style="text-align: left">
                  <button type="submit" class="btn btn-danger enlarge-on-hover" name="submit" value="Return"
                    (click)="confirmReturn()">Return</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </ng-container>
  </div>
</div>

<mat-progress-spinner *ngIf="isLoading" mode="indeterminate" class="loading-spinner"></mat-progress-spinner>
