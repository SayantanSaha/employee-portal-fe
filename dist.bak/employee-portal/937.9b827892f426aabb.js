"use strict";(self.webpackChunkemployee_portal=self.webpackChunkemployee_portal||[]).push([[937],{9937:(q,p,c)=>{c.r(p),c.d(p,{EbapanelModule:()=>U});var _=c(6814),s=c(776),u=c(4611);class h{constructor(){this.role=null,this.app_date_to=null,this.app_date_from=null,this.applicant_name=null,this.reg_no=null}}var e=c(9212),b=c(9862),g=c(6906),d=c(95);function v(r,l){if(1&r){const n=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",43),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(5);return e.KtG(a.hoverClick(t))}),e._uU(15,"Details"),e.qZA()()()}if(2&r){const n=l.$implicit,o=l.index,t=e.oxw(5);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(n.reg_no),e.xp6(2),e.Oqu(n.id_cards[0].card_no),e.xp6(2),e.Oqu(n.employee.emp_name),e.xp6(2),e.Oqu(n.employee.mobile),e.xp6(2),e.Oqu(t.formatDate(n.created_at)),e.xp6(2),e.Q6J("routerLink","/eba-form/view/EBA/"+n.id)}}function Z(r,l){if(1&r&&(e.TgZ(0,"tbody"),e.YNc(1,v,16,7,"tr",18),e.qZA()),2&r){const n=e.oxw(4);e.xp6(),e.Q6J("ngForOf",n.ebadashboardData.todayList)}}function m(r,l){if(1&r){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"div",0)(3,"div",19)(4,"div",20)(5,"div",21)(6,"div",6)(7,"div",13)(8,"b"),e._uU(9),e.qZA()(),e.TgZ(10,"div",22)(11,"button",23),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.opensearch())}),e._UZ(12,"i",24),e.qZA()()()()(),e.TgZ(13,"div",25)(14,"div",6)(15,"div",26)(16,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(8))}),e.TgZ(17,"div",28)(18,"div",29)(19,"div",30),e._UZ(20,"i",31),e.qZA(),e.TgZ(21,"div",32)(22,"p")(23,"span",33),e._uU(24,"Returned"),e.qZA()(),e._uU(25),e.qZA()()()()(),e.TgZ(26,"div",26)(27,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(4))}),e.TgZ(28,"div",28)(29,"div",29)(30,"div",30),e._UZ(31,"i",31),e.qZA(),e.TgZ(32,"div",32)(33,"p")(34,"span",33),e._uU(35,"Pending at DH"),e.qZA()(),e._uU(36),e.qZA()()()()(),e.TgZ(37,"div",26)(38,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(5))}),e.TgZ(39,"div",28)(40,"div",29)(41,"div",34),e._UZ(42,"i",31),e.qZA(),e.TgZ(43,"div",32)(44,"p")(45,"span",33),e._uU(46,"Pending at SO"),e.qZA()(),e._uU(47),e.qZA()()()()()(),e.TgZ(48,"div",6)(49,"div",26)(50,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(6))}),e.TgZ(51,"div",28)(52,"div",29)(53,"div",35),e._UZ(54,"i",31),e.qZA(),e.TgZ(55,"div",32)(56,"p")(57,"span",33),e._uU(58,"Pending at US"),e.qZA()(),e._uU(59),e.qZA()()()()(),e.TgZ(60,"div",26)(61,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(9))}),e.TgZ(62,"div",28)(63,"div",29)(64,"div",35),e._UZ(65,"i",31),e.qZA(),e.TgZ(66,"div",32)(67,"p")(68,"span",33),e._uU(69,"Pending at Director"),e.qZA()(),e._uU(70),e.qZA()()()()(),e.TgZ(71,"div",26)(72,"a",36)(73,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(10))}),e.TgZ(74,"div",28)(75,"div",29)(76,"div",35),e._UZ(77,"i",31),e.qZA(),e.TgZ(78,"div",32)(79,"p")(80,"span",33),e._uU(81,"Pending at ASP"),e.qZA()(),e._uU(82),e.qZA()()()()()()(),e.TgZ(83,"div",6)(84,"div",26)(85,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.searchEba(7))}),e.TgZ(86,"div",28)(87,"div",29)(88,"div",37),e._UZ(89,"i",31),e.qZA(),e.TgZ(90,"div",32)(91,"p")(92,"span",33),e._uU(93,"Approved"),e.qZA()(),e._uU(94),e.qZA()()()()(),e.TgZ(95,"div",26)(96,"a",36)(97,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return e.KtG(a.hoverClick(t))}),e.TgZ(98,"div",28)(99,"div",29)(100,"div",38),e._UZ(101,"i",31),e.qZA(),e.TgZ(102,"div",32)(103,"p")(104,"span",33),e._uU(105,"Print"),e.qZA()(),e._uU(106),e.qZA()()()()()(),e.TgZ(107,"div",26)(108,"div",27),e.NdJ("click",function(t){e.CHM(n);const a=e.oxw(3);return a.hoverClick(t),e.KtG(a.ebapasses())}),e.TgZ(109,"div",28)(110,"div",29)(111,"div",34),e._UZ(112,"i",31),e.qZA(),e.TgZ(113,"div",32)(114,"p")(115,"span",33),e._uU(116,"Total Eba passes"),e.qZA()(),e._uU(117),e.qZA()()()()()(),e._UZ(118,"br"),e.TgZ(119,"div",6)(120,"div",39)(121,"div",19)(122,"div",20)(123,"div",21)(124,"b"),e._uU(125),e.qZA()()(),e.TgZ(126,"div",28)(127,"div",40)(128,"div",41)(129,"table",42)(130,"thead")(131,"tr")(132,"th"),e._uU(133,"Sl No."),e.qZA(),e.TgZ(134,"th"),e._uU(135,"Reg no."),e.qZA(),e.TgZ(136,"th"),e._uU(137,"Id Card No."),e.qZA(),e.TgZ(138,"th"),e._uU(139,"Employee Name"),e.qZA(),e.TgZ(140,"th"),e._uU(141,"Mobile No."),e.qZA(),e.TgZ(142,"th"),e._uU(143,"Last Updated Date"),e.qZA(),e.TgZ(144,"th"),e._uU(145,"Action"),e.qZA()()(),e.YNc(146,Z,2,1,"tbody",1),e.qZA()()()()()()()()()()(),e.BQk()}if(2&r){const n=e.oxw(3);e.xp6(9),e.hij("EBA(",n.ebadashboardData.totalApplications,")"),e.xp6(16),e.hij(" ",n.ebadashboardData.returned," "),e.xp6(11),e.hij(" ",n.ebadashboardData.pendingdh," "),e.xp6(11),e.hij(" ",n.ebadashboardData.pendingso," "),e.xp6(12),e.hij(" ",n.ebadashboardData.pendingus," "),e.xp6(11),e.hij(" ",n.ebadashboardData.pendingdirector," "),e.xp6(12),e.hij(" ",n.ebadashboardData.pendingasp," "),e.xp6(12),e.hij(" ",n.ebadashboardData.approvedCount," "),e.xp6(12),e.hij(" ",n.ebadashboardData.ebaprint," "),e.xp6(11),e.hij(" ",n.ebadashboardData.active," "),e.xp6(8),e.hij("Today's List(",n.ebadashboardData.todayList.length,")"),e.xp6(21),e.Q6J("ngIf",n.ebadashboardData&&n.ebadashboardData.todayList)}}function T(r,l){if(1&r&&(e.ynx(0),e.YNc(1,m,147,12,"ng-container",1),e.BQk()),2&r){const n=l.$implicit;e.xp6(),e.Q6J("ngIf",4===n||5===n||6===n||9===n||10===n)}}function f(r,l){if(1&r&&(e.ynx(0),e.YNc(1,T,2,1,"ng-container",18),e.BQk()),2&r){const n=e.oxw();e.xp6(),e.Q6J("ngForOf",n.user.role)}}const A=r=>({display:r}),C=[{path:"",component:(()=>{class r{constructor(n,o,t,a){this.router=n,this.http=o,this.employeeService=t,this.datePipe=a,this.todayListCount=0,this.empTempDetails={},this.employee=null,this.search=new h,this.user=new u.n,this.searchbox="none"}ngOnInit(){let n=null!=sessionStorage.getItem("user")?sessionStorage.getItem("user"):"[]";this.user=JSON.parse(n),this.employeeService.getEbaDashboardData().subscribe(o=>{console.log(o),this.ebadashboardData=o},o=>{console.error("Error fetching data:",o)}),this.employeeService.getMyProfile().subscribe(o=>{this.employee=o},o=>{console.error("Error fetching employee data:",o)})}hoverClick(n){const o=n.currentTarget;o&&(o.classList.add("clicked"),setTimeout(()=>{o.classList.remove("clicked")},200))}opensearch(){this.searchbox="block"}closesearch(){this.searchbox="none"}formatDate(n){return this.datePipe.transform(n,"dd/MM/YYYY")||"N/A"}searchEba(n){this.search.role=n,this.search&&this.employeeService.searchEba(this.search).subscribe(o=>{console.log("Search successful:",o),this.router.navigate(["eba-pending"],{state:{employeeData:o,roleId:this.search.role,from:"serachEba"}})},o=>{console.error("Search error:",o)},()=>{console.log("Search completed")})}Search(){this.search&&this.employeeService.searchEba(this.search).subscribe(n=>{console.log("Search successful:",n),this.router.navigate(["eba-pending"],{state:{employeeData:n,from:"serach"}})},n=>{console.error("Search error:",n)},()=>{console.log("Search completed")})}ebapasses(){this.employeeService.ebapasses().subscribe(n=>{console.log("Search successful:",n),this.router.navigate(["eba-print"],{state:{employeeData:n,fromfunction:"totalpass"}})},n=>{console.error("Search error:",n)},()=>{console.log("Search completed")})}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(s.F0),e.Y36(b.eN),e.Y36(g.G),e.Y36(_.uU))};static#n=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ebapanel"]],features:[e._Bn([_.uU])],decls:51,vars:16,consts:[[1,"container"],[4,"ngIf"],["tabindex","-1","data-bs-backdrop","false",1,"modal","modal-above-header",2,"backdrop-filter","blur(3px)","background-color","rgba(128, 128, 128, 0.7)","overflow-y","auto",3,"ngStyle"],[1,"modal-dialog","modal-dialog-centered","modal-l"],[1,"modal-content"],[1,"modal-body"],[1,"row"],[1,"form-label"],[1,"form-control",3,"ngModel","ngModelChange"],["value","null"],[3,"ngValue"],["type","text","placeholder","Search by Name","aria-label","Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Search by Reg no","aria-label","Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],["type","date","aria-label","Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","enlarge-on-hover",3,"click"],["type","button",1,"btn","btn-outline-info","enlarge-on-hover",3,"click"],[4,"ngFor","ngForOf"],[1,"card","shadow"],[1,"card-header"],[1,"card-title"],[1,"col-6",2,"text-align","right"],[1,"btn","btn-success","enlarge-hover",3,"click"],[1,"bi","bi-search"],[1,"card-body",2,"background","linear-gradient(to bottom right, rgba(1, 255, 255, 0.36), transparent)"],[1,"col-md-4","col-lg-4","col-sm-4"],[1,"card","shadow","enlarge-hover",3,"click"],[1,"card-body",2,"overflow","auto"],[1,"d-flex","align-items-center"],[1,"enlarge-hover","card-icon","rounded-circle","btn","btn-outline-warning"],[1,"bi","bi-people"],[1,"ps-5"],[1,"text-muted","small","pt-2","ps-1","fw-bold"],[1,"enlarge-hover","card-icon","rounded-circle","btn","btn-outline-success"],[1,"enlarge-hover","card-icon","rounded-circle","btn","btn-outline-danger"],["routerLink","/eba-print",2,"text-decoration","none","color","inherit"],[1,"enlarge-hover","card-icon","rounded-circle","btn","btn-outline-primary"],[1,"enlarge-hover","card-icon","rounded-circle","btn","btn-outline-info"],[1,"col-md-12"],[2,"padding","1%"],[1,"row","mb-12"],[1,"table","table-stripped"],[1,"btn","btn-outline-info","enlarge-on-hover",3,"routerLink","click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.YNc(1,f,2,1,"ng-container",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e._uU(8,"Role"),e.qZA(),e.TgZ(9,"select",8),e.NdJ("ngModelChange",function(i){return t.search.role=i}),e.TgZ(10,"option",9),e._uU(11,"-Select-"),e.qZA(),e.TgZ(12,"option",10),e._uU(13,"Dh"),e.qZA(),e.TgZ(14,"option",10),e._uU(15,"So"),e.qZA(),e.TgZ(16,"option",10),e._uU(17,"US"),e.qZA(),e.TgZ(18,"option",10),e._uU(19,"Director"),e.qZA(),e.TgZ(20,"option",10),e._uU(21,"Asp"),e.qZA(),e.TgZ(22,"option",10),e._uU(23,"Approved"),e.qZA(),e.TgZ(24,"option",10),e._uU(25,"Returned"),e.qZA()()(),e._UZ(26,"br"),e.TgZ(27,"div",6)(28,"label",7),e._uU(29,"Name"),e.qZA(),e.TgZ(30,"input",11),e.NdJ("ngModelChange",function(i){return t.search.applicant_name=i}),e.qZA()(),e._UZ(31,"br"),e.TgZ(32,"div",6)(33,"label",7),e._uU(34,"Reg no"),e.qZA(),e.TgZ(35,"input",12),e.NdJ("ngModelChange",function(i){return t.search.reg_no=i}),e.qZA()(),e._UZ(36,"br"),e.TgZ(37,"div",6)(38,"div",13)(39,"label",7),e._uU(40,"From Date"),e.qZA(),e.TgZ(41,"input",14),e.NdJ("ngModelChange",function(i){return t.search.app_date_from=i}),e.qZA()(),e.TgZ(42,"div",13)(43,"label",7),e._uU(44,"To Date"),e.qZA(),e.TgZ(45,"input",14),e.NdJ("ngModelChange",function(i){return t.search.app_date_to=i}),e.qZA()()()(),e.TgZ(46,"div",15)(47,"button",16),e.NdJ("click",function(i){return t.hoverClick(i),t.closesearch()}),e._uU(48," Close "),e.qZA(),e.TgZ(49,"button",17),e.NdJ("click",function(i){return t.hoverClick(i),t.Search()}),e._uU(50," Search "),e.qZA()()()()()),2&o&&(e.xp6(),e.Q6J("ngIf",t.user&&t.user.role),e.xp6(),e.Q6J("ngStyle",e.VKq(14,A,t.searchbox)),e.xp6(7),e.Q6J("ngModel",t.search.role),e.xp6(3),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",5),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("ngValue",9),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngValue",7),e.xp6(2),e.Q6J("ngValue",8),e.xp6(6),e.Q6J("ngModel",t.search.applicant_name),e.xp6(5),e.Q6J("ngModel",t.search.reg_no),e.xp6(6),e.Q6J("ngModel",t.search.app_date_from),e.xp6(4),e.Q6J("ngModel",t.search.app_date_to))},dependencies:[_.sg,_.O5,_.PC,s.rH,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.On],styles:[".enlarge-hover[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 10px #000000b3;transform:scale(1.06);transition:transform .3s ease,box-shadow .3s ease;background-image:url(Untitled10_20240103115745.31585987593117d5.png),linear-gradient(to top left,#e3e2e2,#fff);background-size:70vh,auto;background-position:left top,center;background-repeat:no-repeat;color:green}.enlarge-hover.clicked[_ngcontent-%COMP%]{box-shadow:none;transform:scale(.9)}"]})}return r})()}];let x=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#n=this.\u0275mod=e.oAB({type:r});static#t=this.\u0275inj=e.cJS({imports:[s.Bz.forChild(C),s.Bz]})}return r})(),U=(()=>{class r{constructor(n,o,t,a){this.employeeService=n,this.route=o,this.router=t,this.search=null}SearchRole(){}static#e=this.\u0275fac=function(o){return new(o||r)(e.LFG(g.G),e.LFG(s.gz),e.LFG(s.F0),e.LFG("BASE_URL"))};static#n=this.\u0275mod=e.oAB({type:r});static#t=this.\u0275inj=e.cJS({imports:[_.ez,x]})}return r})()}}]);