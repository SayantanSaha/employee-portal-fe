"use strict";(self.webpackChunkemployee_portal=self.webpackChunkemployee_portal||[]).push([[478],{4478:(H,u,r)=>{r.r(u),r.d(u,{EbaprintModule:()=>F});var c=r(6814),_=r(776),m=r(3519),p=r.n(m),t=r(9212),d=r(6906),s=r(95),f=r(6027);function g(e,o){1&e&&(t.TgZ(0,"th"),t._uU(1,"Rfid"),t.qZA())}function b(e,o){1&e&&(t.TgZ(0,"th"),t._uU(1,"Action"),t.qZA())}function x(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.closefamily?null:n.closefamily.emp_name)}}function v(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.servantfamily?null:n.servantfamily.emp_name)}}function h(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.servant?null:n.servant.emp_name)}}function y(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.closefamily||null==n.closefamily.pivot?null:n.closefamily.pivot.rel_name)}}function C(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.servantfamily||null==n.servantfamily.pivot?null:n.servantfamily.pivot.rel_name)}}function T(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.servant?null:n.servant.servant_name)}}function Z(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.closefamily?null:n.closefamily.rel_name)}}function E(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(null==n||null==n.servantfamily?null:n.servantfamily.rel_name)}}function A(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Oqu(n.closefamily.rel_desc)}}function U(e,o){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(),t.hij("Domestic Help ",n.servantfamily.rel_desc,"")}}function k(e,o){1&e&&(t.ynx(0),t._uU(1,"Domestic Help"),t.BQk())}function q(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",12)(1,"button",13),t.NdJ("click",function(i){t.CHM(n);const a=t.oxw(3);return t.KtG(a.hoverClick(i))})("click",function(){t.CHM(n);const i=t.oxw(2).index,a=t.oxw();return t.KtG(a.openebacardPopup(i))}),t._uU(2," Update "),t.qZA()()}}function w(e,o){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.xp6(),t.hij(" ",n.rfid," ")}}function Q(e,o){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,q,3,0,"div",11)(2,w,2,1,"div",11),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Q6J("ngIf",null==n.rfid),t.xp6(),t.Q6J("ngIf",null!==n.rfid)}}function J(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",12)(1,"button",14),t.NdJ("click",function(i){t.CHM(n);const a=t.oxw(3);return t.KtG(a.hoverClick(i))})("click",function(){t.CHM(n);const i=t.oxw(2).index,a=t.oxw();return t.KtG(a.printpage(i))}),t._uU(2," Print "),t.qZA()()}}function I(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",12)(1,"button",14),t.NdJ("click",function(i){t.CHM(n);const a=t.oxw(3);return t.KtG(a.hoverClick(i))})("click",function(){t.CHM(n);const i=t.oxw(2).index,a=t.oxw();return t.KtG(a.printpage(i))}),t._uU(2," Re-Print "),t.qZA()()}}function D(e,o){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,J,3,0,"div",11)(2,I,3,0,"div",11),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(),t.Q6J("ngIf",null==n.rfid&&(0==n.printStatus||null==n.printStatus)),t.xp6(),t.Q6J("ngIf",null==n.rfid&&1==n.printStatus)}}function M(e,o){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,x,2,1,"ng-container",8)(5,v,2,1,"ng-container",8)(6,h,2,1,"ng-container",8),t.qZA(),t.TgZ(7,"td"),t.YNc(8,y,2,1,"ng-container",8)(9,C,2,1,"ng-container",8)(10,T,2,1,"ng-container",8)(11,Z,2,1,"ng-container",8)(12,E,2,1,"ng-container",8),t.qZA(),t.TgZ(13,"td"),t.YNc(14,A,2,1,"ng-container",8)(15,U,2,1,"ng-container",8)(16,k,2,0,"ng-container",8),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"date"),t.qZA(),t.YNc(25,Q,3,2,"td",8)(26,D,3,2,"td",8),t.qZA()),2&e){const n=o.$implicit,l=o.index,i=t.oxw();t.xp6(2),t.Oqu(l+1),t.xp6(2),t.Q6J("ngIf",null==n||null==n.closefamily?null:n.closefamily.emp_name),t.xp6(),t.Q6J("ngIf",null==n||null==n.servantfamily?null:n.servantfamily.emp_name),t.xp6(),t.Q6J("ngIf",null==n||null==n.servant?null:n.servant.emp_name),t.xp6(2),t.Q6J("ngIf",null==n||null==n.closefamily||null==n.closefamily.pivot?null:n.closefamily.pivot.rel_name),t.xp6(),t.Q6J("ngIf",null==n||null==n.servantfamily||null==n.servantfamily.pivot?null:n.servantfamily.pivot.rel_name),t.xp6(),t.Q6J("ngIf",null==n||null==n.servant?null:n.servant.servant_name),t.xp6(),t.Q6J("ngIf",null==n||null==n.closefamily?null:n.closefamily.rel_name),t.xp6(),t.Q6J("ngIf",null==n||null==n.servantfamily?null:n.servantfamily.rel_name),t.xp6(2),t.Q6J("ngIf",null==n||null==n.closefamily?null:n.closefamily.rel_desc),t.xp6(),t.Q6J("ngIf",null==n||null==n.servantfamily?null:n.servantfamily.rel_desc),t.xp6(),t.Q6J("ngIf",null==n?null:n.servant),t.xp6(2),t.Oqu(n.eba_pass_no),t.xp6(2),t.Oqu(t.xi3(21,17,n.created_at,"dd-MM-yyyy")),t.xp6(3),t.Oqu(t.xi3(24,20,n.eba_pass_exp_date,"dd-MM-yyyy")),t.xp6(2),t.Q6J("ngIf",!i.fromfunction||null==i.fromfunction),t.xp6(),t.Q6J("ngIf",!i.fromfunction||null==i.fromfunction)}}const O=e=>({display:e});function B(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td")(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"h5",19)(6,"b"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",20)(9,"label",21),t._uU(10,"Rfid no"),t.qZA(),t.TgZ(11,"input",22),t.NdJ("ngModelChange",function(i){t.CHM(n);const a=t.oxw();return t.KtG(a.Rfid=i)}),t.qZA()(),t.TgZ(12,"div",23)(13,"button",24),t.NdJ("click",function(i){t.CHM(n);const a=t.oxw();return t.KtG(a.hoverClick(i))})("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.closeebacardPopup())}),t._uU(14," Close "),t.qZA(),t.TgZ(15,"button",25),t.NdJ("click",function(i){t.CHM(n);const a=t.oxw();return t.KtG(a.hoverClick(i))})("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.rfid(i.printData.eba_pass_no))}),t._uU(16," Update Rfid "),t.qZA()()()()()()}if(2&e){const n=t.oxw();t.xp6(),t.Q6J("ngStyle",t.VKq(3,O,n.ebacard)),t.xp6(6),t.Oqu(n.printData.eba_pass_no),t.xp6(4),t.Q6J("ngModel",n.Rfid)}}function N(e,o){1&e&&t._UZ(0,"mat-progress-spinner",26)}const S=[{path:"",component:(()=>{class e{constructor(n,l,i,a){this.employeeService=l,this.route=i,this.router=a,this.ebaprintData=[],this.isLoading=!1,this.ebacard="none"}ngOnInit(){this.ebaprintData=history.state.employeeData,console.log(this.ebaprintData),this.fromfunction=history.state.fromfunction,console.log(this.fromfunction),(!this.ebaprintData||0==this.ebaprintData.length)&&this.employeeService.getEbaPrintData().subscribe(n=>{console.log(n),this.ebaprintData=n},n=>{console.error("Error fetching data:",n),404===n.status&&p().fire({icon:"warning",title:"US signature empty",text:"US signature required !!!"})})}hoverClick(n){const l=n.currentTarget;l&&(l.classList.add("clicked"),setTimeout(()=>{l.classList.remove("clicked")},200))}openebacardPopup(n){this.ebacard="block",this.printData=this.ebaprintData[n]}closeebacardPopup(){this.ebacard="none"}printpage(n){1==this.ebaprintData[n].printStatus?this.router.navigate(["printPage"],{state:{printData:this.ebaprintData[n],fromUrl:"ebaprint"}}):this.employeeService.printstatus(this.ebaprintData[n].id).subscribe(()=>{this.router.navigate(["printPage"],{state:{printData:this.ebaprintData[n],fromUrl:"ebaprint"}})},l=>{console.log(l),console.log(l.status),console.log(l.error),console.error("An error occurred:",l),p().fire({icon:"error",title:"Error",text:"An error occurred while updating EBA."})})}rfid(n){this.Rfid&&null!==this.Rfid?(this.isLoading=!0,this.employeeService.RFID(this.Rfid,n).subscribe(()=>{p().fire({icon:"success",title:"Success",text:"Updated successfully"}).then(()=>{location.reload()})},l=>{console.log(l),console.log(l.status),console.log(l.error),console.error("An error occurred:",l),p().fire({icon:"error",title:"Error",text:"An error occurred while updating EBA."})},()=>{this.isLoading=!1})):p().fire({icon:"warning",title:"warning",text:"rfid empty."})}static#t=this.\u0275fac=function(l){return new(l||e)(t.Y36("BASE_URL"),t.Y36(d.G),t.Y36(_.gz),t.Y36(_.F0))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-ebaprint"]],decls:32,vars:6,consts:[[1,"container"],[1,"card","shadow"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[2,"padding","1%"],[1,"row","mb-12"],[1,"table","table-stripped"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate","class","loading-spinner",4,"ngIf"],["class","col",4,"ngIf"],[1,"col"],[1,"btn","btn-primary","enlarge-on-hover",3,"click"],[1,"btn","btn-success","enlarge-on-hover",3,"click"],["tabindex","-1","data-bs-backdrop","false",1,"modal","modal-above-header",2,"backdrop-filter","blur(3px)","background-color","rgba(128, 128, 128, 0.7)","overflow-y","auto",3,"ngStyle"],[1,"modal-dialog","modal-dialog-centered","modal-m"],[1,"modal-content",2,"width","100mm"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"form-label"],["type","text","placeholder","xxxxx","aria-label","Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary","enlarge-on-hover",3,"click"],["type","button",1,"btn","btn-outline-info","enlarge-on-hover",3,"click"],["mode","indeterminate",1,"loading-spinner"]],template:function(l,i){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"b"),t._uU(5),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"table",7)(10,"thead")(11,"tr")(12,"th"),t._uU(13,"Sl No."),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Officer Name"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Name"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Relation"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"EBA Card"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Issue Date"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Valid upto"),t.qZA(),t.YNc(26,g,2,0,"th",8)(27,b,2,0,"th",8),t.qZA()(),t.TgZ(28,"tbody"),t.YNc(29,M,27,23,"tr",9),t.qZA()()()()()()(),t.YNc(30,B,17,5,"td",8)(31,N,1,0,"mat-progress-spinner",10)),2&l&&(t.xp6(5),t.hij("Approved List (",i.ebaprintData.length,")"),t.xp6(21),t.Q6J("ngIf",!i.fromfunction||null==i.fromfunction),t.xp6(),t.Q6J("ngIf",!i.fromfunction||null==i.fromfunction),t.xp6(2),t.Q6J("ngForOf",i.ebaprintData),t.xp6(),t.Q6J("ngIf",i.printData&&null!=i.printData),t.xp6(),t.Q6J("ngIf",i.isLoading))},dependencies:[c.sg,c.O5,c.PC,s.Fj,s.JJ,s.On,f.Ou,c.uU],styles:["table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:.5mm}.loading-spinner[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999}"]})}return e})()}];let $=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(S),_.Bz]})}return e})(),F=(()=>{class e{static#t=this.\u0275fac=function(l){return new(l||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[c.ez,$]})}return e})()}}]);